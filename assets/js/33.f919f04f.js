(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{595:function(_,s,e){"use strict";e.r(s);var t=e(17),a=Object(t.a)({},(function(){var _=this,s=_.$createElement,e=_._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":_.$parent.slotKey}},[e("h1",{attrs:{id:"rest-framework专栏讲解-四-status"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#rest-framework专栏讲解-四-status"}},[_._v("#")]),_._v(" Rest-framework专栏讲解(四)：Status")]),_._v(" "),e("p",[_._v("在请求中我们会用到和种各样的请求状态码, 如果你查阅过文档, 会在首行看到这样一条信息：")]),_._v(" "),e("blockquote",[e("p",[_._v("Using bare status codes in your responses isn't recommended. REST framework includes a set of named constants that you can use to make your code more obvious and readable.")])]),_._v(" "),e("p",[_._v("是的, 使用框架自带的状态码能更清晰的表达这个请求的相应内容以及错误信息, 你只需要这样导入进来就可以使用了：")]),_._v(" "),e("div",{staticClass:"language-python line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-python"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[_._v("#!/usr/bin/env python")]),_._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[_._v("# _*_ coding: UTF-8 _*_")]),_._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[_._v("from")]),_._v(" rest_framework "),e("span",{pre:!0,attrs:{class:"token keyword"}},[_._v("import")]),_._v(" status\n复制代码\n")])]),_._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[_._v("1")]),e("br"),e("span",{staticClass:"line-number"},[_._v("2")]),e("br"),e("span",{staticClass:"line-number"},[_._v("3")]),e("br"),e("span",{staticClass:"line-number"},[_._v("4")]),e("br")])]),e("h3",{attrs:{id:"informational-1xx"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#informational-1xx"}},[_._v("#")]),_._v(" Informational - 1xx")]),_._v(" "),e("p",[_._v("此类状态码表示临时的信息状态, 在框架中是没有使用这类状态码的。")]),_._v(" "),e("ul",[e("li",[e("code",[_._v("HTTP_100_CONTINUE")])]),_._v(" "),e("li",[e("code",[_._v("HTTP_101_SWITCHING_PROTOCOLS")])])]),_._v(" "),e("h3",{attrs:{id:"successful-2xx"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#successful-2xx"}},[_._v("#")]),_._v(" Successful - 2xx")]),_._v(" "),e("p",[_._v("这类状态码是表示服务器已经成功接收到了请求。")]),_._v(" "),e("ul",[e("li",[e("code",[_._v("HTTP_200_OK")])]),_._v(" "),e("li",[e("code",[_._v("HTTP_201_CREATED")])]),_._v(" "),e("li",[e("code",[_._v("HTTP_202_ACCEPTED")])]),_._v(" "),e("li",[e("code",[_._v("HTTP_203_NON_AUTHORITATIVE_INFORMATION")])]),_._v(" "),e("li",[e("code",[_._v("HTTP_204_NO_CONTENT")])]),_._v(" "),e("li",[e("code",[_._v("HTTP_205_RESET_CONTENT")])]),_._v(" "),e("li",[e("code",[_._v("HTTP_206_PARTIAL_CONTENT")])]),_._v(" "),e("li",[e("code",[_._v("HTTP_207_MULTI_STATUS")])]),_._v(" "),e("li",[e("code",[_._v("HTTP_208_ALREADY_REPORTED")])]),_._v(" "),e("li",[e("code",[_._v("HTTP_226_IM_USED")])])]),_._v(" "),e("h3",{attrs:{id:"redirection-3xx"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#redirection-3xx"}},[_._v("#")]),_._v(" Redirection - 3xx")]),_._v(" "),e("p",[_._v("这类状态码表示重定向到了其他接口, 可能需要进一步访问其他的接口才可以满足用户需求。")]),_._v(" "),e("ul",[e("li",[e("code",[_._v("HTTP_300_MULTIPLE_CHOICES")])]),_._v(" "),e("li",[e("code",[_._v("HTTP_301_MOVED_PERMANENTLY")])]),_._v(" "),e("li",[e("code",[_._v("HTTP_302_FOUND")])]),_._v(" "),e("li",[e("code",[_._v("HTTP_303_SEE_OTHER")])]),_._v(" "),e("li",[e("code",[_._v("HTTP_304_NOT_MODIFIED")])]),_._v(" "),e("li",[e("code",[_._v("HTTP_305_USE_PROXY")])]),_._v(" "),e("li",[e("code",[_._v("HTTP_306_RESERVED")])]),_._v(" "),e("li",[e("code",[_._v("HTTP_307_TEMPORARY_REDIRECT")])]),_._v(" "),e("li",[e("code",[_._v("HTTP_308_PERMANENT_REDIRECT")])])]),_._v(" "),e("h3",{attrs:{id:"client-error-4xx"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#client-error-4xx"}},[_._v("#")]),_._v(" Client Error - 4xx")]),_._v(" "),e("p",[_._v("这类状态码表示客户端出现错误。")]),_._v(" "),e("ul",[e("li",[e("code",[_._v("HTTP_400_BAD_REQUEST")])]),_._v(" "),e("li",[e("code",[_._v("HTTP_401_UNAUTHORIZED")])]),_._v(" "),e("li",[e("code",[_._v("HTTP_402_PAYMENT_REQUIRED")])]),_._v(" "),e("li",[e("code",[_._v("HTTP_403_FORBIDDEN")])]),_._v(" "),e("li",[e("code",[_._v("HTTP_404_NOT_FOUND")])]),_._v(" "),e("li",[e("code",[_._v("HTTP_405_METHOD_NOT_ALLOWED")])]),_._v(" "),e("li",[e("code",[_._v("HTTP_406_NOT_ACCEPTABLE")])]),_._v(" "),e("li",[e("code",[_._v("HTTP_407_PROXY_AUTHENTICATION_REQUIRED")])]),_._v(" "),e("li",[e("code",[_._v("HTTP_408_REQUEST_TIMEOUT")])]),_._v(" "),e("li",[e("code",[_._v("HTTP_409_CONFLICT")])]),_._v(" "),e("li",[e("code",[_._v("HTTP_410_GONE")])]),_._v(" "),e("li",[e("code",[_._v("HTTP_411_LENGTH_REQUIRED")])]),_._v(" "),e("li",[e("code",[_._v("HTTP_412_PRECONDITION_FAILED")])]),_._v(" "),e("li",[e("code",[_._v("HTTP_413_REQUEST_ENTITY_TOO_LARGE")])]),_._v(" "),e("li",[e("code",[_._v("HTTP_414_REQUEST_URI_TOO_LONG")])]),_._v(" "),e("li",[e("code",[_._v("HTTP_415_UNSUPPORTED_MEDIA_TYPE")])]),_._v(" "),e("li",[e("code",[_._v("HTTP_416_REQUESTED_RANGE_NOT_SATISFIABLE")])]),_._v(" "),e("li",[e("code",[_._v("HTTP_417_EXPECTATION_FAILED")])]),_._v(" "),e("li",[e("code",[_._v("HTTP_422_UNPROCESSABLE_ENTITY")])]),_._v(" "),e("li",[e("code",[_._v("HTTP_423_LOCKED")])]),_._v(" "),e("li",[e("code",[_._v("HTTP_424_FAILED_DEPENDENCY")])]),_._v(" "),e("li",[e("code",[_._v("HTTP_426_UPGRADE_REQUIRED")])]),_._v(" "),e("li",[e("code",[_._v("HTTP_428_PRECONDITION_REQUIRED")])]),_._v(" "),e("li",[e("code",[_._v("HTTP_429_TOO_MANY_REQUESTS")])]),_._v(" "),e("li",[e("code",[_._v("HTTP_431_REQUEST_HEADER_FIELDS_TOO_LARGE")])]),_._v(" "),e("li",[e("code",[_._v("HTTP_451_UNAVAILABLE_FOR_LEGAL_REASONS")])])]),_._v(" "),e("h3",{attrs:{id:"server-error-5xx"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#server-error-5xx"}},[_._v("#")]),_._v(" Server Error - 5xx")]),_._v(" "),e("p",[_._v("这类状态码表示服务端出现错误。")]),_._v(" "),e("ul",[e("li",[e("code",[_._v("HTTP_500_INTERNAL_SERVER_ERROR")])]),_._v(" "),e("li",[e("code",[_._v("HTTP_501_NOT_IMPLEMENTED")])]),_._v(" "),e("li",[e("code",[_._v("HTTP_502_BAD_GATEWAY")])]),_._v(" "),e("li",[e("code",[_._v("HTTP_503_SERVICE_UNAVAILABLE")])]),_._v(" "),e("li",[e("code",[_._v("HTTP_504_GATEWAY_TIMEOUT")])]),_._v(" "),e("li",[e("code",[_._v("HTTP_505_HTTP_VERSION_NOT_SUPPORTED")])]),_._v(" "),e("li",[e("code",[_._v("HTTP_506_VARIANT_ALSO_NEGOTIATES")])]),_._v(" "),e("li",[e("code",[_._v("HTTP_507_INSUFFICIENT_STORAGE")])]),_._v(" "),e("li",[e("code",[_._v("HTTP_508_LOOP_DETECTED")])]),_._v(" "),e("li",[e("code",[_._v("HTTP_509_BANDWIDTH_LIMIT_EXCEEDED")])]),_._v(" "),e("li",[e("code",[_._v("HTTP_510_NOT_EXTENDED")])]),_._v(" "),e("li",[e("code",[_._v("HTTP_511_NETWORK_AUTHENTICATION_REQUIRED")])])]),_._v(" "),e("h3",{attrs:{id:"辅助函数"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#辅助函数"}},[_._v("#")]),_._v(" 辅助函数")]),_._v(" "),e("div",{staticClass:"language-python line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-python"}},[e("code",[_._v("is_informational"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[_._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[_._v(")")]),_._v("      "),e("span",{pre:!0,attrs:{class:"token comment"}},[_._v("# 1xx 返回是否 1 开头状态码的布尔值")]),_._v("\nis_success"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[_._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[_._v(")")]),_._v("            "),e("span",{pre:!0,attrs:{class:"token comment"}},[_._v("# 2xx 返回是否 2 开头状态码的布尔值")]),_._v("\nis_redirect"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[_._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[_._v(")")]),_._v("           "),e("span",{pre:!0,attrs:{class:"token comment"}},[_._v("# 3xx 返回是否 3 开头状态码的布尔值")]),_._v("\nis_client_error"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[_._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[_._v(")")]),_._v("       "),e("span",{pre:!0,attrs:{class:"token comment"}},[_._v("# 4xx 返回是否 4 开头状态码的布尔值")]),_._v("\nis_server_error"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[_._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[_._v(")")]),_._v("       "),e("span",{pre:!0,attrs:{class:"token comment"}},[_._v("# 5xx 返回是否 5 开头状态码的布尔值")]),_._v("\n复制代码\n")])]),_._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[_._v("1")]),e("br"),e("span",{staticClass:"line-number"},[_._v("2")]),e("br"),e("span",{staticClass:"line-number"},[_._v("3")]),e("br"),e("span",{staticClass:"line-number"},[_._v("4")]),e("br"),e("span",{staticClass:"line-number"},[_._v("5")]),e("br"),e("span",{staticClass:"line-number"},[_._v("6")]),e("br")])]),e("p",[_._v("例如：")]),_._v(" "),e("div",{staticClass:"language-python line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-python"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[_._v("#!/usr/bin/env python")]),_._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[_._v("# _*_ coding: UTF-8 _*_")]),_._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[_._v("from")]),_._v(" rest_framework "),e("span",{pre:!0,attrs:{class:"token keyword"}},[_._v("import")]),_._v(" status\n\nstatus"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[_._v(".")]),_._v("is_success"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[_._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[_._v("200")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[_._v(")")]),_._v("  "),e("span",{pre:!0,attrs:{class:"token comment"}},[_._v("# 返回 True")]),_._v("\n")])]),_._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[_._v("1")]),e("br"),e("span",{staticClass:"line-number"},[_._v("2")]),e("br"),e("span",{staticClass:"line-number"},[_._v("3")]),e("br"),e("span",{staticClass:"line-number"},[_._v("4")]),e("br"),e("span",{staticClass:"line-number"},[_._v("5")]),e("br")])])])}),[],!1,null,null,null);s.default=a.exports}}]);